set(VCPKG_LIBRARY_LINKAGE static)
set(VCPKG_C_FLAGS "/Qspectre /W3 /guard:cf")
set(VCPKG_CXX_FLAGS "/Qspectre /W3 /guard:cf")
set(VCPKG_INSTALL_OPTIONS, "--debug")

if(PORT MATCHES "cpprestsdk")
    set(VCPKG_C_FLAGS "${VCPKG_C_FLAGS} /D_NO_ASYNCRTIMP /DCPPREST_EXCLUDE_WEBSOCKETS")
    set(VCPKG_CXX_FLAGS "${VCPKG_CXX_FLAGS} /D_NO_ASYNCRTIMP /DCPPREST_EXCLUDE_WEBSOCKETS")
elseif(PORT MATCHES "detours")
    set(VCPKG_C_FLAGS "${VCPKG_C_FLAGS} /D_LIB")
    set(VCPKG_CXX_FLAGS "${VCPKG_CXX_FLAGS} /D_LIB")
elseif(PORT MATCHES "jsoncpp")
    set(VCPKG_C_FLAGS "${VCPKG_C_FLAGS} /D_DISABLE_VECTOR_ANNOTATION /D_DISABLE_STRING_ANNOTATION")
    set(VCPKG_CXX_FLAGS "${VCPKG_C_FLAGS} /D_DISABLE_VECTOR_ANNOTATION /D_DISABLE_STRING_ANNOTATION")
elseif(PORT MATCHES "libyaml")
    set(VCPKG_C_FLAGS "${VCPKG_C_FLAGS} /DYAML_DECLARE_STATIC /DHAVE_CONFIG_H")
    set(VCPKG_CXX_FLAGS "${VCPKG_CXX_FLAGS} /DYAML_DECLARE_STATIC /DHAVE_CONFIG_H")
endif()

message("Compilation flags for ${PORT}: ${VCPKG_CXX_FLAGS}")